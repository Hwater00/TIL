<h1>í…ŒìŠ¤íŠ¸ ì£¼ë„ ê°œë°œ ì‹œì‘í•˜ê¸°(ìµœë²”ê· , ê°€ë©”ì¶œíŒì‚¬)</h1>

# CH1 TDD JUnit ì„¤ì •

## Gradle í”„ë¡œì íŠ¸ì—ì„œ JUnit ì„¤ì •

JUnit 5ì˜ Jupiter ì˜ì¡´ì„±ì„ í…ŒìŠ¤íŠ¸ ëª©ì ìœ¼ë¡œ ì¶”ê°€í•´ì•¼ í•©ë‹ˆë‹¤.
ë˜í•œ, JUnit 5ë¡œ ì‘ì„±ëœ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•´ `useJUnitPlatform()`ì„ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤.

### build.gradle ì„¤ì • ì˜ˆì‹œ

```gradle
dependencies {
    testImplementation 'org.junit.jupiter:junit-jupiter:5.5.0'
}

test {
    useJUnitPlatform()
    testLogging {
        events 'passed', 'skipped', 'failed'
    }
}
```
---

# chap02
- JUintì€  @Test ì• ë…¸í…Œì´ì…˜ì„ ë¶„ì¸ ë©”ì„œë“œë¥¼ í…ŒìŠ¤íŠ¸ ë©”ì„œë“œë¡œ ì¸ê¸±í•œë‹¤. í…ŒìŠ¤íŠ¸ ë©”ì„œë“œëŠ” ê¸°ëŠ¥ì„ ê²€ì¦í•˜ëŠ” ì½”ë“œë¥¼ ë‹´ê³  ìˆëŠ” ë©”ì„œë“œì´ë‹¤.
- assertEqulas() ë©”ì„œë“œëŠ” ì¸ìë¡œ ë°›ì€ ë‘ ê°’ì´ ë™ì¼í•œì§€ ë¹„êµí•œë‹¤. ì´ë•Œ ì²« ë²ˆì§¸ ì¸ìëŠ” ê¸°ëŒ€í•œ ê°’ì´ê³  ë‘ ë²ˆì§¸ ì¸ìëŠ” ì‹¤ì œ ê°’ì´ë‹¤. ë¹„êµí•œ ê²°ê³¼ ë‘ ê°’ì´ ë™ì¼í•˜ì§€ ì•Šìœ¼ë©´ AssertionFailedErrorê°€ ë°œìƒí•œë‹¤.
org.opentest4j.AssertionFailedError

---

## TDD ê³¼ì •

í…ŒìŠ¤íŠ¸ â†’ ì½”ë”© â†’ ë¦¬íŒ©í† ë§ ë°˜ë³µ

1. í…ŒìŠ¤íŠ¸ ì‘ì„±
2. í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨ ì‹œ, í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í•  ë§Œí¼ë§Œì˜ ì½”ë“œ ì‘ì„±
3. í…ŒìŠ¤íŠ¸ í†µê³¼ ì‹œ, ì½”ë“œ ë¦¬íŒ©í† ë§ í›„ í…ŒìŠ¤íŠ¸ ì¬ì‹¤í–‰í•˜ì—¬ í™•ì¸

### í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„± ìˆœì„œ

- ì‰¬ìš´ ê²½ìš°ì—ì„œ ì–´ë ¤ìš´ ê²½ìš°ë¡œ ì§„í–‰

  - ì´ˆë°˜ì— ë³µì¡í•œ í…ŒìŠ¤íŠ¸ë¶€í„° ì‹œì‘í•˜ë©´ ì•ˆ ë˜ëŠ” ì´ìœ 

    1. í•´ë‹¹ í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼ì‹œí‚¤ê¸° ìœ„í•´ í•œ ë²ˆì— êµ¬í˜„í•´ì•¼ í•  ì½”ë“œê°€ ë§ì•„ì§„ë‹¤.

    2. í•œ ë²ˆì— êµ¬í˜„í•˜ëŠ” ì‹œê°„ì´ ì§§ì•„ì§€ë©´ ë””ë²„ê¹…í•  ë•Œ ìœ ë¦¬í•˜ë‹¤. ì‘ì„±í•œ ì½”ë“œê°€ ë§ì§€ ì•Šê³  ì‘ì„± ì‹œê°„ë„ ì§§ìœ¼ë©´ ì½”ë“œì— ëŒ€í•œ ë‚´ìš©ì„ ëª…í™•íˆ ê¸°ì–µí•  ìˆ˜ ìˆë‹¤.

  - ì˜ˆì™¸ì ì¸ ê²½ìš°ì—ì„œ ì •ìƒì¸ ê²½ìš°ë¡œ ì§„í–‰

      - ì˜ˆì™¸ ìƒí™©ì„ ë¨¼ì € í…ŒìŠ¤íŠ¸í•˜ëŠ” ì´ìœ 

      1. ì˜ˆì™¸ ìƒí™©ì„ ê³ ë ¤í•˜ì§€ ì•Šì€ í›„ ì˜ˆì™¸ ìƒí™©ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ì¡°ê±´ë¬¸ì„ ì¤‘ë³µí•´ì„œ ì¶”ê°€í•˜ëŠ” ì¼ì´ ë°œìƒí•˜ê¸° ë•Œë¬¸ì´ë‹¤.

### TDD ì™„ê¸‰ ì¡°ì ˆ

1. ì •í•´ì§„ ê°’ì„ ë¦¬í„´

2. ê°’ ë¹„êµë¥¼ ì´ìš©í•´ì„œ ì •í•´ì§„ ê°’ì„ ë¦¬í„´

3. ë‹¤ì–‘í•œ í…ŒìŠ¤íŠ¸ë¥¼ ì¶”ê°€í•˜ë©´ì„œ êµ¬í˜„ì„ ì¼ë°˜í™”

### â“ ì§ˆë¬¸

Q1. í…ŒìŠ¤íŠ¸ ì½”ë“œì— ì‚¬ìš©í•˜ëŠ” ENUMì€ êµì¬ 2ì¥ì—ì„œëŠ” test í´ë” í•˜ìœ„ë¡œ ë§Œë“¤ì—ˆëŠ”ë°, main í•˜ìœ„ì— ìˆë˜ ENUMê³¼ ê°™ì´ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê±¸ê¹Œìš”?

â†’ test í•˜ìœ„ì— ìˆë˜ ê²ƒì„ importë¡œ ë¶ˆëŸ¬ì˜¤ê¸° ë¶ˆê°€í–ˆìŒ.

### í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì˜ˆì‹œ
#### TDD ì˜ˆì‹œ : ì•”í˜¸ ê°•ë„ ê²€ì‚¬
```java
// PasswordStrengthMeterTest 
public class PasswordStrengthMeterTest {

    private PasswordStrengthMeter meter = new PasswordStrengthMeter();
    private void assertStrength(String password, PasswordStrength passwordStrength){
        PasswordStrength result = meter.meter(password);
        assertEquals(passwordStrength, result);
    }

    // 4. ê°’ì´ ì—†ëŠ” ê²½ìš°
    @Test
    void nullInput_Then_Invalid(){
        assertStrength(null, PasswordStrength.INVALID);
        assertStrength("", PasswordStrength.INVALID);
    }
}
```

### ì „ì²´ ì½”ë“œ

#### PasswordStrength

```java
public enum PasswordStrength {
    STRONG, NORMAL, INVALID, WEAK
}
```

#### PasswordStrengthMeter

```java
public class PasswordStrengthMeter {

    public PasswordStrength meter(String s){
        // null ê²€ì‚¬
        if(s == null || s.isEmpty()){
            return PasswordStrength.INVALID;
        }

        int metCount = getMetConditionCount(s);
        if(metCount <= 1) return PasswordStrength.WEAK;
        if(metCount == 2) return PasswordStrength.NORMAL;

        return PasswordStrength.STRONG;
    }

    private int getMetConditionCount(String s){
        int metCount = 0;
        if(s.length() >= 8) metCount++;
        if(meetContainingNumberCondition(s)) metCount++;
        if(meetContainingUppercaseCondition(s)) metCount++;
        return metCount;
    }

    private boolean meetContainingNumberCondition(String s){
        for(char ch : s.toCharArray()){
            if(ch >= '0' && ch <= '9'){
                return true;
            }
        }
        return false;
    }

    private boolean meetContainingUppercaseCondition(String s){
        for(char ch : s.toCharArray()){
            if(Character.isUpperCase(ch)){
                return true;
            }
        }
        return false;
    }
}
```

#### PasswordStrengthMeterTest

```java
public class PasswordStrengthMeterTest {

    private PasswordStrengthMeter meter = new PasswordStrengthMeter();
    private void assertStrength(String password, PasswordStrength passwordStrength){
        PasswordStrength result = meter.meter(password);
        assertEquals(passwordStrength, result);
    }

    @Test
    void meetAllCondition_Then_Strong(){
        assertStrength("ab12!@AB", PasswordStrength.STRONG);
        assertStrength("abc1!Add", PasswordStrength.STRONG);
    }

    @Test
    void meetOtherCondition_except_length_Then_Normal(){
        assertStrength("ab12!@A", PasswordStrength.NORMAL);
    }

    @Test
    void meetOtherCondition_except_number_Then_Normal(){
        assertStrength("ab!@ABqwer", PasswordStrength.NORMAL);
    }

    @Test
    void nullInput_Then_Invalid(){
        assertStrength(null, PasswordStrength.INVALID);
        assertStrength("", PasswordStrength.INVALID);
    }

    @Test
    void meetOtherCondition_except_uppercase_Then_Normal(){
        assertStrength("ab12!@cd", PasswordStrength.NORMAL);
    }

    @Test
    void meetOnlyLengthCondition_Then_Weak(){
        assertStrength("abcdefgh", PasswordStrength.WEAK);
    }

    @Test
    void meetOnlyNumberCondition_Then_Weak(){
        assertStrength("12345", PasswordStrength.WEAK);
    }

    @Test
    void meetOnlyUppercaseCondition_Then_Weak(){
        assertStrength("ABCDE", PasswordStrength.WEAK);
    }

    @Test
    void meetNoCondition_Then_Weak(){
        assertStrength("aaaaa", PasswordStrength.WEAK);
    }
}
```

# ch4 TDD.ê¸°ëŠ¥ ëª…ì„¸.ì„¤ê³„

1. ì„¤ê³„ëŠ” ê¸°ëŠ¥ ëª…ì„¸ë¡œë¶€í„° ì‹œì‘í•œë‹¤
2. ì…ë ¥ê³¼ ê²°ê³¼ë¡œ êµ¬ë¶„í•œ ê¸°ëŠ¥ ëª…ì„¸
- ì…ë ¥
  - ì•„ì´ë””ì™€ ì•”í˜¸
  - ë©”ì„œë“œì˜ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬
- ê²°ê³¼
  - ì•„ì´ë””ì™€ ì•”í˜¸ê°€ ì¼ì¹˜í•˜ë©´ ì„±ê³µ, ì¼ì¹˜í•˜ì§€ ì•Šìœ¼ë©´ ì‹¤íŒ¨
  - ë¦¬í„´ ê°’
  - ìµì…‰ì…˜ ê²°ê³¼
  - ë³€ê²½ â†’ DBì— ë°ì´í„°ë¥¼ ì¶”ê°€í•˜ëŠ” ê²ƒì€ ê°’ì„ ë¦¬í„´í•˜ëŠ” ê²ƒê³¼ ë‹¬ë¦¬ ì‹œìŠ¤í…œì˜ ìƒíƒœë¥¼ ë³€ê²½í•œë‹¤. ì´ëŸ° ë³€ê²½ì€ ë¦¬í„´ ê°’ìœ¼ë¡œëŠ” ê²°ê³¼ë¥¼ ì•Œ ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— í…ŒìŠ¤íŠ¸ ëŒ€ìƒì„ ì‹¤í–‰í•œ ë’¤ì—ëŠ” ë³€ê²½ ëŒ€ìƒì— ì ‘ê·¼í•´ì„œ ê²°ê³¼ë¥¼ í™•ì¸í•´ì•¼ í•œë‹¤

### ì„¤ê³„ ê³¼ì •ì„ ì§€ì›í•˜ëŠ” TDD

TDDëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ë¨¼ì € ë§Œë“¤ê³  í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼ì‹œí‚¤ê¸° ìœ„í•´ ì½”ë“œë¥¼ êµ¬í˜„í•˜ê³  ë¦¬íŒ©í† ë§í•˜ëŠ” ê³¼ì •ì„ ë°˜ë³µí•œë‹¤.
- í…ŒìŠ¤íŠ¸: A) í…ŒìŠ¤íŠ¸ í•  ê¸°ëŠ¥ ì‹¤í–‰ + B) ì‹¤í–‰ ê²°ê³¼ ê²€ì¦
  - A) í…ŒìŠ¤íŠ¸ ëŒ€ìƒì´ ë˜ëŠ” í´ë˜ìŠ¤ì™€ ë©”ì†Œë“œ ì´ë¦„ ê²°ì •, ë©”ì†Œë“œì—ì„œ ì‚¬ìš©í•  íŒŒë¼ë¯¸í„° ê²°ì •
  - B) ë¦¬í„´ê°’, íŠ¹ì • Exception ë°œìƒ


- í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ë¨¼ì € ì‘ì„±í•˜ê¸° ìœ„í•œ ìš”ì†Œ
  - í…ŒìŠ¤íŠ¸í•  ê¸°ëŠ¥ì„ ì‹¤í–‰
    - í…ŒìŠ¤íŠ¸ì—ì„œ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” ê°ì²´ë‚˜ í•¨ìˆ˜ ì¡´ì¬
    - í´ë˜ìŠ¤, ë©”ì„œë“œ ì´ë¦„, ë©”ì„œë“œ ì¸ìì™€ íƒ€ì…
  - ì‹¤í–‰ ê²°ê³¼ë¥¼ ê²€ì¦

### ê¸°ëŠ¥ ëª…ì„¸ êµ¬ì²´í™”

ë³´í†µ ê°œë°œìëŠ” ê¸°íšìê°€ ì‘ì„±í•œ ìŠ¤í† ë¦¬ë³´ë“œë‚˜ ì™€ì´ì–´í”„ë ˆì„ê³¼ ê°™ì€ í˜•íƒœë¡œ ìš”êµ¬ì‚¬í•­ ëª…ì„¸ë¥¼ ì „ë‹¬ë°›ëŠ”ë‹¤. ì´ëŸ° ë¬¸ì„œëŠ” ì‚¬ìš©ìë‚˜ ê¸°íšìê°€ ë³´ê¸°ì—ëŠ” ì ë‹¹í• ì§€ ëª¨ë¥´ë‚˜ ê°œë°œìê°€ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê¸°ì—ëŠ” ìƒëµëœ ë‚´ìš©ì´ ë§ë‹¤.

- íŒŒë¼ë¯¸í„°ì™€ ê²°ê³¼ ê°’ ê²°ì •â†’ ìš”êµ¬ì‚¬í•­ ë¬¸ì„œì—ì„œ ê¸°ëŠ¥ì˜ ì…ë ¥ê³¼ ê²°ê³¼ë¥¼ ë„ì¶œ â†’ í…ŒìŠ¤íŠ¸ ì‚¬ë¡€ë¥¼ ì¶”ê°€í•˜ëŠ” ê³¼ì •ì—ì„œ êµ¬í˜„ì˜ ì• ë§¤í•œ ì ì„ ë°œê²¬â†’ ê¸°ëŠ¥ ë™ì‘ì„ êµ¬ì²´ì ìœ¼ë¡œ ì •ë¦¬

## ğŸ› ë‚´ê°€ ëŠë‚€ TDD !
ìµœì´ˆ ìš”êµ¬ì‚¬í•­ì€ ì‹œê°„ì´ ì§€ë‚˜ë©´ì„œ ë³€í•˜ëŠ”ë°, TDDëŠ” ë¯¸ë¦¬ ì•ì„œì„œ ì½”ë“œë¥¼ ë§Œë“¤ì§€ ì•Šìœ¼ë¯€ë¡œ ë¶ˆí•„ìš”í•œ êµ¬ì„± ìš”ì†Œë¥¼ ëœ ë§Œë“¤ê²Œ ëœë‹¤

API íŒŒë¼ë¯¸í„°, ë¦¬í„´ JSONêµ¬ì¡° ì„¤ê³„ í›„ ë³€ê²½ì´ ë§ì€ í¸ì´ì—ˆëŠ”ë° TDD ì‘ì„± ì‹œ ì„¤ê³„ ê³¼ì •ì—ì„œ ê³ ë¯¼í•˜ëŠ” ê²ƒì´ ê²¹ì¹˜ë©´ì„œ TDDë¡œ ë³€ê²½ì„ ìœ„í•œ ë‹¨ê³„ê°€ ì¶”ê°€ë˜ì–´ FEì— í˜¼ë€ì„ ê°ì†Œì‹œí‚¬ ìˆ˜ ìˆì„ ê²ƒ ê°™ë‹¤

ëª…ì„¸ë¥¼ ìµœëŒ€í•œ êµ¬ì²´ì ìœ¼ë¡œ ì„¤ê³„í•˜ëŠ” ê²ƒì´ ê°œë°œìì˜ ì—­ëŸ‰ì´ë¼ ìƒê°í•˜ëŠ”ë° ê¸°ëŠ¥ ëª…ì„¸ë¥¼ êµ¬ì²´í™”í•  ìˆ˜ ìˆëŠ” ë°©ë²•ìœ¼ë¡œ TDDê°€ ë  ê²ƒ ê°™ë‹¤.

ê¸°ëŠ¥ì´ ì˜ êµ¬í˜„ë¬ëŠ”ì§€ í™•ì¸ì´ í…ŒìŠ¤íŠ¸ ì½”ë“œì˜ ì—­í• ì´ë¼ ìƒê°í–ˆëŠ”ë°, ì„¤ê³„ë¥¼ ì˜ í•˜ëŠ” ì—­í• ì´êµ¬ë‚˜ ìƒê° ë³€í™”ê°€ ì¼ì–´ë‚¬ë‹¤.

---

# ch5 JUnit 5 ê¸°ì´ˆ

### JUnit ëª¨ë“ˆ êµ¬ì„±

- JUnit í”Œë«í¼: í…ŒìŠ¤íŒ… í”„ë ˆì„ì›Œí¬ë¥¼ êµ¬ë™í•˜ê¸° ìœ„í•œ ëŸ°ì²˜ì™€ í…ŒìŠ¤íŠ¸ ì—”ì§„ì„ ìœ„í•œ APIë¥¼ ì œê³µ
- JUnit ì£¼í”¼í„°(Jupiter): JUnit 5ë¥¼ ìœ„í•œ í…ŒìŠ¤íŠ¸ APIì™€ ì‹¤í–‰ ì—”ì§„ì„ ì œê³µí•œë‹¤
- JUnit ë¹ˆí‹°ì§€(Vintage): JUnit 3ê³¼ 4ë¡œ ì‘ì„±ëœ í…ŒìŠ¤íŠ¸ë¥¼ JUnit 5 í”Œë«í¼ì—ì„œ ì‹¤í–‰í•˜ê¸° ìœ„í•œ ëª¨ë“ˆì„ ì œê³µí•œë‹¤.

JUnit 5ëŠ” í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ APIë¥¼ ì œê³µí•œë‹¤. ì£¼í”¼í„° APIë¥¼ ì‚¬ìš©í•´ì„œ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ê³  ì‹¤í–‰í•˜ë ¤ë©´ ì£¼í”¼í„° ê´€ë ¨ ëª¨ë“ˆ(junit-jupiter-engineê³¼ junit-jupiter-api)ì„ ì˜ì¡´ì— ì¶”ê°€í•˜ë©´ ëœë‹¤.

### @Test ì• ë…¸í…Œì´ì…˜ê³¼ í…ŒìŠ¤íŠ¸ ë©”ì„œë“œ

JUnit ì½”ë“œì˜ ê¸°ë³¸ êµ¬ì¡°ëŠ” @Test ì• ë…¸í…Œì´ì…˜ ë©”ì„œë“œë¶€í„°

- ë‹¤ë¥¸ í´ë˜ìŠ¤ì™€ êµ¬ë¶„ì„ ì‰½ê²Œ í•˜ê¸° ìœ„í•´ â€˜Testâ€™ ì ‘ë¯¸ì‚¬ ë¶™ì´ê¸° ex) SumTest
- @Test ì• ë…¸í…Œì´ì…˜ì„ ë¶™ì¸ ë©”ì„œë“œëŠ” privateì´ë©´ ì•ˆ ëœë‹¤
  - ì´ìœ : **private ë©”ì„œë“œëŠ” í´ë˜ìŠ¤ ì™¸ë¶€ì—ì„œ ì ‘ê·¼í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸**
    - ê¸°ìˆ ì ì¸ ì´ìœ : ë¦¬í”Œë ‰ì…˜ì„ ì´ìš©í•´ í…ŒìŠ¤íŠ¸ ë©”ì„œë“œë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.
    - ì˜ë¯¸ìƒì˜ ì´ìœ : í…ŒìŠ¤íŠ¸ëŠ” ì‹¤ì œë¡œ ëŒì•„ê°€ëŠ” ëª¨ë“ˆì´ë‚˜ ë‹¨ìœ„ ê¸°ëŠ¥ë“¤ì„ ì ê²€í•˜ê¸° ìœ„í•œ ê²ƒì´ë¯€ë¡œ, í…ŒìŠ¤íŠ¸ë¥¼ ìˆ¨ê¸¸ í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.
    - ê³µìœ ì˜ ì˜ë¯¸: JUnitì˜ í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ëª¨ë“  ê°œë°œìê°€ ê³µìœ í•´ì•¼ í•˜ë¯€ë¡œ, ëª¨ë“  ì‚¬ëŒì—ê²Œ ì—´ë ¤ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.
    - ì§ê´€ì„±ì˜ ì˜ë¯¸: í…ŒìŠ¤íŠ¸ìš©ì´ë¼ëŠ” ì§ê´€ì„±ì„ ìœ„í•´ publicìœ¼ë¡œ í•œ ê²ƒì…ë‹ˆë‹¤.

### ì£¼ìš” ë‹¨ì–¸ ë©”ì„œë“œ Assertions í´ë˜ìŠ¤ ì œê³µ

| ë©”ì„œë“œ | ì„¤ëª… |
| --- | --- |
| assertEquals(expected, actual) | ì‹¤ì œ ê°’(actual)ì´ ê¸°ëŒ€í•˜ëŠ” ê°’(expected)ê³¼ ê°™ì€ì§€ ê²€ì‚¬í•œë‹¤ |
| assertNotEquals(unexpected, actual) | ì‹¤ì œ ê°’(actual)ì´ íŠ¹ì • ê°’(unexpected)ê³¼ ê°™ì§€ ì•Šì€ì§€ ê²€ì‚¬í•œë‹¤ |
| assertSame(Object expected,Object actual) | ë‘ ê°ì²´ê°€ ë™ì¼í•œ ê°ì²´ì¸ì§€ ê²€ì‚¬í•œë‹¤ |
| assertNotSame(Object unexpected, Object actual) | ë‘ ê°ì²´ê°€ ë™ì¼í•˜ì§€ ì•Šì€ ê°ì²´ì¸ì§€ ê²€ì‚¬í•œë‹¤ |
| assertTrue(boolean condition) | ê°’ì´ trueì¸ì§€ ê²€ì‚¬í•œë‹¤ |
| assertFalse(boolean condition) | ê°’ì´ falseì¸ì§€ ê²€ì‚¬í•œë‹¤ |
| assertNull(Object actual) | ê°’ì´ nullì¸ì§€ ê²€ì‚¬í•œë‹¤ |
| assertNotNull(Object actual) | ê°’ì´ nullì´ ì•„ë‹Œì§€ ê²€ì‚¬í•œë‹¤ |
| fail() | í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨ë¥¼ ì²˜ë¦¬í•œë‹¤ |
| assertThrows(Class<T> expectedType, Executable executable) | executableì„ ì‹¤í–‰í•œ ê²°ê³¼ë¡œ ì§€ì •í•œ íƒ€ì…ì˜ ìµì…‰ì…˜ì„ ë°œìƒí•˜ëŠ”ì§€ ê²€ì‚¬í•œë‹¤ |
| assertDoesNotThrow(Executable executable) | executableì„ ì‹¤í–‰í•œ ê²°ê³¼ë¡œ ìµì…‰ì…˜ì´ ë°œìƒí•˜ì§€ ì•ŠëŠ”ì§€ ê²€ì‚¬í•œë‹¤ |

```java
assertThrows(IllegalArgumentException.class, () -> {
    AuthService authService = new AuthService();
    authService.authenticate(null, null);
});
```

### @BeforeEach ì• ë…¸í…Œì´ì…˜ê³¼ @AfterEach ì• ë…¸í…Œì´ì…˜

JUnit ê° í…ŒìŠ¤íŠ¸ ë©”ì„œë“œ ì½”ë“œ ì‹¤í–‰ ìˆœì„œ

1. í…ŒìŠ¤íŠ¸ ë©”ì„œë“œë¥¼ í¬í•¨í•œ ê°ì²´ ìƒì„±
2. (ì¡´ì¬í•˜ë©´) @BeforeEach ì• ë…¸í…Œì´ì…˜ì´ ë¶™ì€ ë©”ì„œë“œ ì‹¤í–‰
3. @Test ì• ë…¸í…Œì´ì…˜ì´ ë¶™ì€ ë©”ì„œë“œ ì‹¤í–‰
4. (ì¡´ì¬í•˜ë©´) @AfterEach ì• ë…¸í…Œì´ì…˜ì´ ë¶™ì€ ë©”ì„œë“œ ì‹¤í–‰

```java
import org.junit.jupiter.api.AfterEach;
import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;

public class LifecycleTest {
    public LifecycleTest() {
        System.out.println("new LifecycleTest");
    }

    @BeforeEach
    void setUp() {
        System.out.println("setUp");
    }

    @Test
    void a() {
        System.out.println("A");
    }

    @Test
    void b() {
        System.out.println("B");
    }

    @AfterEach
    void tearDown() {
        System.out.println("tearDown");
    }
}

// ê²°ê³¼
new LifecycleTest
setUp
A
tearDown
new LifecycleTest
setUp
B
tearDown
```

---

# ch6 í…ŒìŠ¤íŠ¸ ì½”ë“œì˜ êµ¬ì„±

- í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ê¸°ëŠ¥ì„ ì‹¤í–‰í•˜ê³  ê·¸ ê²°ê³¼ë¥¼ í™•ì¸í•˜ë¯€ë¡œ ìƒí™©, ì‹¤í–‰, ê²°ê³¼ í™•ì¸ì˜ ì„¸ ê°€ì§€ ìš”ì†Œë¡œ í…ŒìŠ¤íŠ¸ë¥¼ êµ¬ì„±í•  ìˆ˜ ìˆë‹¤. â‡’ given, when, then
- ì™¸ë¶€ ìƒíƒœê°€ í…ŒìŠ¤íŠ¸ ê²°ê³¼ì— ì˜í–¥ì„ ì£¼ì§€ ì•Šë„ë¡ í•  ê²ƒ (*ì™¸ë¶€ ìƒíƒœ: íŒŒì¼, DBMS, ì™¸ë¶€ ì„œë²„ ë“±)

### ì™¸ë¶€ REST API ê³ ë ¤ì‚¬í•­

- REST API ì‘ë‹µ ê²°ê³¼ê°€ ìœ íš¨í•œ ê³„ì¢Œ ë²ˆí˜¸ì¸ ìƒí™©
- REST API ì‘ë‹µ ê²°ê³¼ê°€ ìœ íš¨í•˜ì§€ ì•Šì€ ê³„ì¢Œ ë²ˆí˜¸ì¸ ìƒí™©
- REST API ì„œë²„ì— ì—°ê²°í•  ìˆ˜ ì—†ëŠ” ìƒí™©
- REST API ì„œë²„ì—ì„œ ì‘ë‹µì„ 5ì´ˆ ì´ë‚´ì— ë°›ì§€ ëª»í•˜ëŠ” ìƒí™©

---

# ch 7 ëŒ€ì—­

### ëŒ€ì—­ì˜ í•„ìš”ì„±

- í…ŒìŠ¤íŠ¸ ì½”ë“œì—ì„œ ì œì–´í•˜ê¸° ì–´ë ¤ìš´ ì™¸ë¶€ ìš”ì¸ì´ ìˆì„ ê²½ìš°?
  - ex) ì™¸ë¶€ í™˜ê²½ì„ í…ŒìŠ¤íŠ¸ í™˜ê²½ì— ë§ì¶”ê¸° ì–´ë ¤ìš´ ê²½ìš°, í…ŒìŠ¤íŠ¸ ì½”ë“œì—ì„œ ìƒì„±í•œ ì™¸ë¶€ ê²°ê³¼ë¥¼ ë§ˆìŒëŒ€ë¡œ ì´ˆê¸°í™”í•  ìˆ˜ ì—†ëŠ” ê²½ìš°
  - â†’ í•´ê²° ë°©ì•ˆ: '**ëŒ€ì—­**'ì„ ì‚¬ìš©í•˜ì—¬ í…ŒìŠ¤íŠ¸ ëŒ€ìƒì´ ì˜ì¡´í•˜ëŠ” ì™¸ë¶€ ìƒí™©ì´ë‚˜ ê²°ê³¼ë¥¼ ëŒ€ì²´í•  ìˆ˜ ìˆë‹¤.
- ì™¸ë¶€ ìš”ì¸ì´ í…ŒìŠ¤íŠ¸ì— ê´€ì—¬í•˜ëŠ” ê²½ìš°
  - 1) í…ŒìŠ¤íŠ¸ ëŒ€ìƒì—ì„œ íŒŒì¼ ì‹œìŠ¤í…œì„ ì‚¬ìš©
  - 2) í…ŒìŠ¤íŠ¸ ëŒ€ìƒì—ì„œ DBë¡œë¶€í„° ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ê±°ë‚˜ ë°ì´í„°ë¥¼ ì¶”ê°€
  - 3) í…ŒìŠ¤íŠ¸ ëŒ€ìƒì—ì„œ ì™¸ë¶€ì˜ HTTP ì„œë²„ì™€ í†µì‹ 
  - ì˜ˆì‹œ: ìë™ì´ì²´
    - ìƒí™©: ì™¸ë¶€ ì—…ì²´ê°€ ì œê³µí•˜ëŠ” APIë¥¼ ì´ìš©í•´ì„œ ì¹´ë“œë²ˆí˜¸ê°€ ìœ íš¨í•œì§€ í™•ì¸í•˜ê³  ê·¸ ê²°ê³¼ì— ë”°ë¼ ìë™ì´ì²´ ì •ë³´ë¥¼ ë“±ë¡í•˜ëŠ” ê¸°ëŠ¥
    - ë¬¸ì œ: ì™¸ë¶€ ì—…ì²´ì—ì„œ ì •ìƒ ì¹´ë“œë²ˆí˜¸, ë§Œë£Œì¼ì´ ì§€ë‚œ ì¹´ë“œë²ˆí˜¸ ë“± ìƒí™©ë³„ ì¹´ë“œë²ˆí˜¸ë¥¼ ì œê³µí•˜ì§€ ì•Šìœ¼ë©´ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•  ìˆ˜ ì—†ë‹¤.

í…ŒìŠ¤íŠ¸ ëŒ€ìƒì—ì„œ ì˜ì¡´í•˜ëŠ” ìš”ì¸ ë•Œë¬¸ì— í…ŒìŠ¤íŠ¸ê°€ ì–´ë ¤ìš¸ ë•ŒëŠ” ì™¸ë¶€ ìš”ì¸ì„ ëŒ€ì‹ í•˜ëŠ” **ëŒ€ì—­**ì„ ì¨ì„œ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•  ìˆ˜ ìˆë‹¤.

ëŒ€ì—­ì„ ì‚¬ìš©í•˜ì—¬ AutoDebitRegisterì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•œë‹¤.

- ì™¸ë¶€ ì¹´ë“œ ì •ë³´ API ì—°ë™
  - StubCardNumberValidator : ì¹´ë“œ ì •ë³´ API ì—°ë™ì„ ëŒ€ì‹ í•˜ì—¬ ìœ íš¨í•œ ì¹´ë“œë²ˆí˜¸, ë„ë‚œ ì¹´ë“œë²ˆí˜¸ì™€ ê°™ì€ ìƒí™©ì„ ëŒ€ì‹ í•œë‹¤.
- ìë™ì´ì²´ ì •ë³´ë¥¼ ì €ì¥í•œ DB
  - MemoryAutoDebitInfoRepository : íŠ¹ì • ì‚¬ìš©ìì— ëŒ€í•œ ìë™ì´ì²´ ì •ë³´ê°€ ì´ë¯¸ ë“±ë¡ë˜ì–´ ìˆëŠ” ìƒí™©, ë“±ë¡ë˜ì–´ ìˆì§€ ì•Šì€ ìƒí™©ì„ ëŒ€ì‹ í•œë‹¤.

- ì œì–´ê°€ í˜ë“  ì™¸ë¶€ ìƒí™©ì—ì„œ ì˜ì¡´ ë„ì¶œ

  - ì œì–´í•˜ê¸° í˜ë“  ì™¸ë¶€ ìƒí™©ì„ ë³„ë„ íƒ€ì…ìœ¼ë¡œ ë¶„ë¦¬
  - í…ŒìŠ¤íŠ¸ ì½”íŠ¸ëŠ” ë³„ë„ë¡œ ë¶„ë¦¬í•œ íƒ€ì…ì˜ ëŒ€ì—­ì„ ìƒì„±
  - ìƒì„±í•œ ëŒ€ì—­ì„ í…ŒìŠ¤íŠ¸ ëŒ€ìƒì˜ ìƒì„±ì ë“±ì„ ì´ìš©í•´ì„œ ì „ë‹¬
  - ëŒ€ì—­ì„ ì´ìš©í•´ì„œ ìƒí™© êµ¬ì„±

### ëŒ€ì—­ì˜ ì¢…ë¥˜

| **ì¢…ë¥˜** | **ì„¤ëª…** |
| --- | --- |
| ìŠ¤í… (Stub) | - êµ¬í˜„ì„ ë‹¨ìˆœí•œ ê²ƒìœ¼ë¡œ ëŒ€ì²´, í…ŒìŠ¤íŠ¸ì— ë§ê²Œ ë‹¨ìˆœíˆ ì›í•˜ëŠ” ë™ì‘ì„ ìˆ˜í–‰ |
| ê°€ì§œ (Fake) | - ì œí’ˆì—ëŠ” ì í•©í•˜ì§€ ì•Šì§€ë§Œ, ì‹¤ì œ ë™ì‘í•˜ëŠ” êµ¬í˜„ì„ ì œê³µ |
| ìŠ¤íŒŒì´ (Spy) | - í˜¸ì¶œëœ ë‚´ì—­ ê¸°ë¡, ê¸°ë¡í•œ ë‚´ìš©ì€ í…ŒìŠ¤íŠ¸ ê²°ê³¼ ê²€ì¦ ì‹œ ì‚¬ìš© |
| ëª¨ì˜ (Mock) | - ê¸°ëŒ€í•œ ëŒ€ë¡œ ìƒí˜¸ì‘ìš© í•˜ëŠ”ì§€ í–‰ìœ„ ê²€ì¦<br>- ê¸°ëŒ€í•œ ëŒ€ë¡œ ë™ì‘í•˜ì§€ ì•Šìœ¼ë©´ Exception ë°œìƒ |

### ëŒ€ì—­ ì‚¬ìš© ì‹¤ìŠµ : íšŒì›ê°€ì… ê¸°ëŠ¥

- UserRegister : íšŒì›ê°€ì…ì— ëŒ€í•œ í•µì‹¬ ë¡œì§ ìˆ˜í–‰
- WeakPasswordChecker : ì•”í˜¸ê°€ ì•½í•œì§€ ê²€ì‚¬ (â†’ ì•½í•˜ë‹¤ë©´ íšŒì›ê°€ì… ì‹¤íŒ¨)
- UserRepository : íšŒì› ì •ë³´ ì €ì¥, ì¡°íšŒ ê¸°ëŠ¥ ì œê³µ
- EmailNotifier : ì´ë©”ì¼ ë°œì†¡ ê¸°ëŠ¥ ì œê³µ

- ì•”í˜¸ì˜ ê°•ë„ í™•ì¸ â‡’ Stub
  - ì•”í˜¸ê°€ ì•½í•˜ë‹¤ë©´ ê°€ì… ì‹¤íŒ¨
- repositoryë¥¼ ê°€ì§œ êµ¬í˜„ìœ¼ë¡œ ì‚¬ìš© â‡’ Fake
  - ì´ë¯¸ ê°€ì…ëœ IDë¡œ ê°€ì…ì„ ì‹œë„í•  ê²½ìš° ê°€ì… ì‹¤íŒ¨, Exception ë°œìƒ
  - ì¤‘ë³µ IDê°€ ì¡´ì¬í•˜ì§€ ì•Šì„ ê²½ìš° ê°€ì… ì„±ê³µ
- ì´ë©”ì¼ ë°œì†¡ ì—¬ë¶€ í™•ì¸ â‡’ Spy
  - ê°€ì… ì„±ê³µ ì‹œ, ì´ë©”ì¼ë¡œ ê°€ì… ì•ˆë‚´ ë©”ì¼ ë°œì†¡

### ëª¨ì˜ ê°ì²´ë¡œ ìŠ¤í…ê³¼ ìŠ¤íŒŒì´ ëŒ€ì²´ (Mockito)

- ëª¨ì˜ ê°ì²´ë¥¼ ìœ„í•œ ë„êµ¬ ì¤‘ **Mockito**ë¥¼ ì‚¬ìš©

- **Mock, Mockito**

  **Mock (ëª¨ì˜ ê°ì²´)**

  - ì‹¤ì œ ê°ì²´ ëŒ€ì‹  í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ ì‚¬ìš©í•˜ëŠ” ê°€ì§œ ê°ì²´
  - í…ŒìŠ¤íŠ¸ ëŒ€ìƒ ì½”ë“œê°€ ì™¸ë¶€ ì˜ì¡´ì„±(DB, API ë“±)ì„ ì§ì ‘ í˜¸ì¶œí•˜ì§€ ì•Šë„ë¡ ëŒ€ì²´í•˜ëŠ” ì—­í• 

    ---

  **Mockito**

  - Mock ìƒì„±, ë™ì‘ ì„¤ì • ë° ê²€ì¦, ìŠ¤í…ì„ ì§€ì›í•˜ëŠ” í”„ë ˆì„ì›Œí¬
  - ì˜ì¡´ì„± ì¶”ê°€
      ```
      org.mockito:mockito-core:2.26.0
      ```

- Mockitoì˜ ArgumentCaptorëŠ” ëª¨ì˜ ê°ì²´ë¥¼ ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•  ë•Œ ì „ë‹¬í•œ ê°ì²´ë¥¼ ë‹´ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.
- BDDMockito.then( ).should( )ë¡œ ëª¨ì˜ ê°ì²´ì˜ ë©”ì†Œë“œê°€ í˜¸ì¶œëëŠ”ì§€ í™•ì¸í•  ë•Œ ArgumentCaptorì˜ capture( ) ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ë©´ ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•  ë•Œ ì „ë‹¬í•œ ì¸ìê°€ ArgumentCaptorì— ë‹´ê¸´ë‹¤.

  â†’  ArgumentCaptorì˜  getValue( )  ë©”ì†Œë“œë¥¼ í†µí•´ ë³´ê´€í•œ ì¸ìë¥¼ êµ¬í•˜ê³  ì´ë¥¼ ê²€ì¦ì— í™œìš©í•  ìˆ˜ ìˆë‹¤.

### ëª¨ì˜ ê°ì²´ëŠ” ê³¼í•˜ê²Œ ì‚¬ìš©í•˜ì§€ ë§ì.

- ëª¨ì˜ ê°ì²´ë¥¼ ì´ìš©í•˜ë©´ ì²˜ìŒì—ëŠ” ëŒ€ì—­ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì§€ ì•Šì•„ë„ ë¼ì„œ í¸í•  ìˆ˜ ìˆì§€ë§Œ, ê²°ê³¼ ê°’ì„ í™•ì¸í•˜ëŠ” ìˆ˜ë‹¨ìœ¼ë¡œ ëª¨ì˜ ê°ì²´ë¥¼ ì‚¬ìš©í•˜ê¸° ì‹œì‘í•˜ë©´ ê²°ê³¼ ê²€ì¦ ì½”ë“œê°€ ê¸¸ì–´ì§€ê³  ë³µì¡í•´ì§„ë‹¤.
- ëª¨ì˜ ê°ì²´ì˜ ë©”ì†Œë“œ í˜¸ì¶œ ì—¬ë¶€ë¥¼ ê²°ê³¼ ê²€ì¦ ìˆ˜ë‹¨ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ì£¼ì˜í•´ì•¼ í•œë‹¤.
- íŠ¹íˆ, ì €ì¥ì†Œì— ëŒ€í•œ ëŒ€ì—­ì€ ë©”ëª¨ë¦¬ë¥¼ ì´ìš©í•œ ê°€ì§œ êµ¬í˜„ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ í…ŒìŠ¤íŠ¸ ì½”ë“œ ê´€ë¦¬ì— ìœ ë¦¬í•˜ë‹¤.

---

# ch 8 í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•œ ì„¤ê³„

### í…ŒìŠ¤íŠ¸ê°€ ì–´ë ¤ìš´ ì½”ë“œ & í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•œ ì„¤ê³„

- í•˜ë“œ ì½”ë”©ëœ ê²½ìš°
  - ë¬¸ì œ) íŒŒì¼ ê²½ë¡œ, IP ì£¼ì†Œ, í¬íŠ¸ë²ˆí˜¸ ë“±ì´ í•˜ë“œì½”ë”© ëœ ê²½ìš° í…ŒìŠ¤íŠ¸ê°€ ì–´ë µë‹¤.
  - í•´ê²°) í•˜ë“œ ì½”ë”©ëœ ìƒìˆ˜ë¥¼ êµì²´í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ ì¶”ê°€í•˜ê¸°

- ì˜ì¡´ ëŒ€ìƒì„ ì§ì ‘ ìƒì„±í•œ ê²½ìš°
  - ë¬¸ì œ) ì˜ì¡´ ëŒ€ìƒì´ ì˜¬ë°”ë¥´ê²Œ ë™ì‘í•˜ëŠ”ë° í•„ìš”í•œ í™˜ê²½ì„ ëª¨ë‘ êµ¬ì„±í•˜ê¸° ì–´ë µë‹¤.
  - í•´ê²°) ì˜ì¡´ ëŒ€ìƒì„ ì£¼ì… ë°›ì„ ìˆ˜ ìˆëŠ” ìˆ˜ë‹¨ì„ ì œê³µí•˜ì—¬ êµì²´í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤.
- ì •ì  ë©”ì„œë“œ ì‚¬ìš© â†’ ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ê°€ ì •ì  ë©”ì„œë“œë¥¼ ì œê³µí•œë‹¤ë©´ ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì§ì ‘ ì‚¬ìš©ì´ ì•„ë‹Œ ì—°ë™í•˜ê¸° ìœ„í•œ íƒ€ì…ì„ ë”°ë¡œ ë§Œë“ ë‹¤.
- ì‹¤í–‰ ì‹œì ì— ë”°ë¼ ë‹¬ë¼ì§€ëŠ” ì½”ë“œ â†’ ì‹œê°„ì´ë‚˜ ì„ì˜ ê°’ ìƒì„± ê¸°ëŠ¥ ë¶„ë¦¬í•˜ê¸°
- ì—­í• ì´ ì„ì—¬ ìˆëŠ” ì½”ë“œ
- ì½˜ì†”ì—ì„œ ì…ë ¥ì„ ë°›ê±°ë‚˜ ê²°ê³¼ë¥¼ ì½˜ì†”ì— ì¶œë ¥í•œë‹¤
- í…ŒìŠ¤íŠ¸ ëŒ€ìƒì´ ì‚¬ìš©í•˜ëŠ” ì˜ì¡´ ëŒ€ìƒ í´ë˜ìŠ¤ë‚˜ ë©”ì„œë“œê°€ finalì´ë‹¤. ì´ ê²½ìš° ëŒ€ì—­ìœ¼ë¡œ ëŒ€ì²´ê°€ ì–´ë ¤ìš¸ ìˆ˜ ìˆë‹¤.
- í…ŒìŠ¤íŠ¸ ëŒ€ìƒì˜ ì†ŒìŠ¤ë¥¼ ì†Œìœ í•˜ê³  ìˆì§€ ì•Šì•„ ìˆ˜ì •ì´ ì–´ë µë‹¤
- ë§¤ì„œë“œ ì¤‘ê°„ì— ì†Œì¼“ í†µì‹  ì½”ë“œê°€ í¬í•¨ë˜ì–´ ìˆë‹¤â†’ ì†Œì¼“ í†µì‹ ì´ë‚˜ HTTP í†µì‹ ì€ ì‹¤ì œë¥¼ ëŒ€ì²´í•  ì„œë²„ë¥¼ ë¡œì»¬ì— ë„ì›Œì„œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤, ì„œë²„ ìˆ˜ì¤€ì—ì„œ ëŒ€ì—­ì„ ì‚¬ìš©í•œë‹¤ê³  ìƒê°í•˜ë©´ ëœë‹¤

---

# ch 9 í…ŒìŠ¤íŠ¸ ë²”ìœ„ì™€ ì¢…ë¥˜

### í…ŒìŠ¤íŠ¸ ë²”ìœ„

#### ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸

ì‚¬ìš©ì ì…ì¥ì—ì„œ ì‹œìŠ¤í…œì´ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ì´ ì˜¬ë°”ë¥´ê²Œ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸í•œë‹¤. ì´ í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•˜ë ¤ë©´ ì‹œìŠ¤í…œì„ êµ¬ë™í•˜ê³  ì‚¬ìš©í•˜ëŠ”ëŒ€ í•„ìš”í•œ ëª¨ë“  êµ¬ì„±ìš”ì†Œê°€ í•„ìš”í•˜ë‹¤.  ëì—ì„œ ì”‰ê¹Œì§€ ëª¨ë“  êµ¬ì„±ìš”ì†Œë¥¼ ë…¼ë¦¬ì ìœ¼ë¡œ ì™„ì „í•œ í•˜ë‚˜ì˜ ê¸°ëŠ¥ìœ¼ë¡œ ë‹¤ë£¨ê¸°ì— E2E í…ŒìŠ¤í¬ë¡œë„ ë³¼ ìˆ˜ ìˆë‹¤

- QA ì¡°ì§ì—ì„œ ìˆ˜í–‰í•˜ëŠ” í…ŒìŠ¤íŠ¸ê°€ ì£¼ë¡œ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ì´ë‹¤
- ì‹œìŠ¤í…œì´ í•„ìš”ë¡œ í•˜ëŠ” ë°ì´í„°ë¥¼ ì…ë ¥í•˜ê³  ê²°ê³¼ê°€ ì˜¬ë°”ë¥¸ì§€ í™•ì¸í•œë‹¤

#### í†µí•© í…ŒìŠ¤íŠ¸

ì‹œìŠ¤í…œì˜ ê° êµ¬ì„± ìš”ì†Œê°€ ì˜¬ë°”ë¥´ê²Œ ì—°ë™ë˜ëŠ”ì§€ í™•ì¸í•œë‹¤. í†µí•© í…ŒìŠ¤íŠ¸ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ì˜ ì½”ë“œë¥¼ ì§ì ‘ í…ŒìŠ¤íŠ¸í•œë‹¤.

ì¼ë°˜ì ì¸ ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ì€ í”„ë ˆì„ì›Œí¬, ë¼ì´ë¸ŒëŸ¬ë¦¬, ë°ì´í„°ë² ì´ìŠ¤, êµ¬í˜„í•œ ì½”ë“œê°€ ì£¼ìš” í†µí•© í…ŒìŠ¤íŠ¸ ëŒ€ìƒì´ë‹¤

- ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ì™€ ë¹„êµ) ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ëŠ” ì•±ì„ í†µí•´ ê°€ì… ê¸°ëŠ¥ì„ í…ŒìŠ¤íŠ¸í•œë‹¤ë©´ í†µí•© í…ŒìŠ¤íŠ¸ëŠ” ì„œë²„ì˜ íšŒì› ê°€ì… ì½”ë“œë¥¼ ì§ì ‘ í…ŒìŠ¤íŠ¸í•˜ëŠ” ì‹ì´ë‹¤.
- ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ë‚˜ ë§ˆì´ë°”í‹°ìŠ¤ ì„¤ì •ì´ ì˜¬ë°”ë¥¸ì§€, SQL ì¿¼ë¦¬ê°€ ë§ëŠ”ì§€, DB íŠ¸ëœì­ì…˜ì´ ì˜ ì‘ë™í•˜ëŠ”ì§€ ë“±ì„ ê²€ì¦í•  ìˆ˜ ìˆë‹¤.

#### ë‹¨ìœ„ í…ŒìŠ¤íŠ¸

ê°œë³„ ì½”ë“œë‚˜ ì»´í¬ë„ŒíŠ¸ê°€ ê¸°ëŒ€í•œëŒ€ë¡œ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸í•œë‹¤. í•œ í´ë˜ìŠ¤ë‚˜ í•œ ë©”ì„œë“œì™€ ê°™ì€ ì‘ì€ ë²”ìœ„ë¥¼ í…ŒìŠ¤íŠ¸í•œë‹¤. ì¼ë¶€ ì˜ì¡´ ëŒ€ìƒì€ ìŠ¤í…ì´ë‚˜ ëª¨ì˜ ê°ì²´ ë“±ì„ ì´ìš©í•´ì„œ ëŒ€ì—­ìœ¼ë¡œ ëŒ€ì²´í•œë‹¤

- ì±…ì—ì„œ ì‚´í´ë³¸ í…ŒìŠ¤íŠ¸ê°€ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸

### WireMockì„ ì´ìš©í•œ REST í´ë¼ì´ì–¸íŠ¸ í…ŒìŠ¤íŠ¸

- **Mock Server, WireMock, WireMockServer**

  **Mock Server**

  - í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ ì‹¤ì œ ì„œë²„ì²˜ëŸ¼ ë™ì‘í•˜ëŠ” ê°€ì§œ ì„œë²„

  **WireMock**

  - Javaì—ì„œ Mock Serverë¥¼ ì‰½ê²Œ ë§Œë“¤ ìˆ˜ ìˆë„ë¡ ë„ì™€ì¤Œ
  - ì˜ì¡´ì„± ì¶”ê°€
      ```
      org.wiremock:wiremock-standalone:3.3.1
      ```

- WireMockServerëŠ” HTTP ì„œë²„ë¥¼ í‰ë‚´ë‚¸ë‹¤.
- í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ì „, WireMockServerë¥¼ ì‹œì‘í•œë‹¤. ì‹¤ì œ HTTP ì„œë²„ê°€ ëœ¬ë‹¤.
- í…ŒìŠ¤íŠ¸ì—ì„œ WireMockServerì˜ ë™ì‘ì„ ê¸°ìˆ í•œë‹¤.
- HTTP ì—°ë™ì„ ìˆ˜í–‰í•˜ëŠ” í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•œë‹¤.
- í…ŒìŠ¤íŠ¸ ì‹¤í–‰ í›„, WireMockServerë¥¼ ì¤‘ì§€í•œë‹¤.

---
# ch10 í…ŒìŠ¤íŠ¸ ì½”ë“œì™€ ìœ ì§€ë³´ìˆ˜

- í…ŒìŠ¤íŠ¸ ì½”ë“œë„ ê·¸ ìì²´ë¡œ ì½”ë“œì´ê¸° ë•Œë¬¸ì—, ì œí’ˆ ì½”ë“œì™€ ë™ì¼í•˜ê²Œ ìœ ì§€ë³´ìˆ˜ ëŒ€ìƒì´ ëœë‹¤.
- í…ŒìŠ¤íŠ¸ ì½”ë“œ ìì²´ì˜ ìœ ì§€ë³´ìˆ˜ì„±ì´ ì¢‹ì•„ì•¼ í•œë‹¤.

### âš ï¸ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ë§Œë“¤ ë•Œ ì£¼ì˜í•´ì•¼ í•  ì‚¬í•­ âš ï¸

1. **ë‹¨ì–¸ì˜ ê¸°ëŒ“ê°’ì€ ë³€ìˆ˜ë‚˜ í•„ë“œë¥¼ ì‚¬ìš©í•˜ì—¬ í‘œí˜„í•˜ì§€ ë§ê³  ì‹¤ì œ ê°’ ì‚¬ìš©í•˜ê¸°**
  - ë‹¨ì–¸í•  ë•Œ ì‚¬ìš©í•œ ê°’ì´ ë¬´ì—‡ì¸ì§€ ì•Œê¸° ìœ„í•´ ì½”ë“œë¥¼ ì™”ë‹¤ê°”ë‹¤ í•  í•„ìš”ê°€ ì—†ì–´ì§„ë‹¤.

    ```java
    // ì•ˆ ì¢‹ì€ ì˜ˆ
    @Test
    void dateFormat() {
        LocalDate date = LocalDate.of(1945, 8, 15);
        String dateStr = formatDate(date);
        assertEquals(date.getYear() + "ë…„ " + date.getMonthValue() + "ì›” " + date.getDayOfMonth() + "ì¼", dateStr);
    }
    
    // ì¢‹ì€ ì˜ˆ
    @Test
    void dateFormat() {
        LocalDate date = LocalDate.of(1945, 8, 15);
        String dateStr = formatDate(date);
        assertEquals("1945ë…„ 8ì›” 15ì¼", dateStr);
    }
    ```

2. **ë‘ ê°œ ì´ìƒì„ ê²€ì¦í•˜ì§€ ì•Šê¸°**
  - í•œ í…ŒìŠ¤íŠ¸ì—ì„œ ê²€ì¦í•˜ëŠ” ë‚´ìš©ì´ 2ê°œ ì´ìƒì´ë©´, í…ŒìŠ¤íŠ¸ ê²°ê³¼ë¥¼ í™•ì¸í•  ë•Œ ì§‘ì¤‘ë„ê°€ ë–¨ì–´ì§„ë‹¤.
  - í•œ í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œì—ì„œ ì„œë¡œ ë‹¤ë¥¸ ë‚´ìš©ì„ ê²€ì¦í•œë‹¤ë©´, ê° ê²€ì¦ ëŒ€ìƒì„ ë³„ë„ë¡œ ë¶„ë¦¬í•  ê²ƒ.
  - í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œê°€ ë°˜ë“œì‹œ í•œ ê°€ì§€ë§Œ ê²€ì¦í•´ì•¼ í•˜ëŠ” ê²ƒì€ ì•„ë‹ˆì§€ë§Œ, ê²€ì¦ ëŒ€ìƒì´ ëª…í™•í•˜ê²Œ êµ¬ë¶„ëœë‹¤ë©´ í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œë„ êµ¬ë¶„í•˜ëŠ” ê²ƒì´ ìœ ì§€ë³´ìˆ˜ì— ìœ ë¦¬í•˜ë‹¤.

3. **ëª¨ì˜ ê°ì²´ëŠ” ê°€ëŠ¥í•œ ë²”ìš©ì ì¸ ê°’ì„ ì‚¬ìš©**
  - í…ŒìŠ¤íŠ¸ ì˜ë„ë¥¼ í•´ì¹˜ì§€ ì•ŠëŠ” ë²”ìœ„ì—ì„œ, â€˜pwâ€™ì™€ ê°™ì€ íŠ¹ì •í•œ ê°’ë³´ë‹¤ëŠ”, **`Mockito.anyString()`** ê³¼ ê°™ì€ ë²”ìš©ì ì¸ ê²ƒì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤.
    - í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ìˆ˜ì •í•  ë•Œ, ëª¨ì˜ ê°ì²´ ê´€ë ¨ ì½”ë“œë„ í•¨ê»˜ ìˆ˜ì •í•´ì•¼ í•˜ëŠ” ë¹ˆë„ë„ ì¤„ì–´ë“ ë‹¤.

      ```java
      @DisplayName("ì•½í•œ ì•”í˜¸ì´ë©´ íšŒì›ê°€ì… ì‹¤íŒ¨")
      @Test
      void weakPassword() {
          // ëª¨ì˜ ê°ì²´ë¥¼ ì´ìš©í•˜ì—¬ Stubì„ ëŒ€ì‹ 
          BDDMockito
              .given(mockPasswordChecker.checkPasswordWeak(Mockito.anyString()))
              .willReturn(true);

          assertThrows(WeakPasswordException.class, () -> {
              userRegister.register("id", "pw", "email");
          });
      }
      ```

      - @Sql ì• ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•´ì„œ í…ŒìŠ¤íŠ¸ì‹¤í–‰ ì „ì— íŠ¹ì • ì¿¼ë¦¬ë¥¼ì‹¤í–‰ â†’ ëª¨ë“  ì¼€ìŠ¤íŠ¸ê°€ ê°™ì€ ê°’ì„ ì‚¬ìš©í•˜ëŠ” ë°ì´í„°
        #### SQL ì €ì¥ íŒŒì¼ ë‚´ìš© (`init-data.sql`)

        ```
        -- SQL íŒŒì¼ ë‚´ìš©
                truncate table user;
                insert into user values('cbk','pw','cbk@cbk.com');
                insert into user values('tddiht','pw1','tdhot@ilovetdd.com');
        ```
        ### Spring Boot í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤
        ```
        @SpringBootTest
        @Sql("classpath:init-data.sql")
        public class UserRegisterIntTestUsingSql {
        @Autowired
        private UserRegister register;
        @Autowired
        private JdbcTemplate jdbcTemplate;
      
        @Test
        void ë™ì¼í•œIDê°€_ì´ë¯¸_ì¡´ì¬í•˜ë©´_ìµì…‰ì…˜() {
         // ì‹¤í–‰ ê²°ê³¼ í™•ì¸
         assertThrows(DupIdException.class,
         () -> register.register("cbk", "strongpw", "email@email.com")
         );
        }
      
        @Test
        void ì¡´ì¬í•˜ì§€_ì•Šìœ¼ë©´_ì €ì¥í•¨() {
          // ì‹¤í–‰
         register.register("cbk2", "strongpw", "email@email.com");
          } 
        }
        ```
4. **ë‚´ë¶€ êµ¬í˜„ë³´ë‹¤ ì‹¤í–‰ ê²°ê³¼ì„ ê²€ì¦**
  - í…ŒìŠ¤íŠ¸ ëŒ€ìƒì˜ ë‚´ë¶€ êµ¬í˜„ì„ ê²€ì¦í•˜ëŠ” ê²ƒì´ ë‚˜ìœ ê²ƒì€ ì•„ë‹ˆì§€ë§Œ, êµ¬í˜„ì„ ì¡°ê¸ˆë§Œ ë³€ê²½í•´ë„ í…ŒìŠ¤íŠ¸ê°€ ê¹¨ì§ˆ ê°€ëŠ¥ì„±ì´ ì»¤ì§„ë‹¤.
  - í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ë‚´ë¶€ êµ¬í˜„ë³´ë‹¤ ì‹¤í–‰ ê²°ê³¼ë¥¼ ê²€ì¦í•´ì•¼ í•œë‹¤. (ë‚´ë¶€ êµ¬í˜„ì€ ì–¸ì œë“ ì§€ ë³€ê²½ë  ìˆ˜ ìˆìœ¼ë‹ˆê¹Œ)

5. **ì…‹ì—…ì„ ì´ìš©í•˜ì—¬ ì—¬ëŸ¬ ë©”ì†Œë“œì— ë™ì¼í•œ ìƒí™© ì ìš©í•˜ì§€ ì•Šê¸°**
  - ì½”ë“œ ì¤‘ë³µì„ ì œê±°í•˜ê¸° ìœ„í•´ `@BeforeEach`ë¥¼ ì‚¬ìš©í•˜ì—¬ ìƒí™©ì„ êµ¬ì„±í•  ìˆ˜ ìˆë‹¤.
  - ê° í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œë¥¼ ìœ„í•œ ìƒí™©ì„ ì…‹ì—… ë©”ì†Œë“œì—ì„œ ëª¨ë‘ ë”°ë¡œ ì„¤ì •í•˜ëŠ” ê±´ NO.
  - í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œëŠ” ìì²´ì ìœ¼ë¡œ ê²€ì¦í•˜ëŠ” ë‚´ìš©ì„ ì™„ì „íˆ ê¸°ìˆ í•˜ê³  ìˆì–´ì•¼, í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ìœ ì§€ë³´ìˆ˜í•˜ëŠ” ë…¸ë ¥ì„ ì¤„ì¼ ìˆ˜ ìˆë‹¤.

   ì˜ˆì‹œ:
  ```java
public class UserGivenHelper {
    private JdbcTemplate jdbcTemplate;

    public UserGivenHelper(JdbcTemplate jdbcTemplate) {
        this.jdbcTemplate = jdbcTemplate;
    }

    public void givenUser(String id, String pw, String email) {
        jdbcTemplate.update(
            "insert into user values (?, ?, ?) " +
            "on duplicate key update password = ?, email = ?",
            id, pw, email, pw, email);
    }
}

@Autowired
JdbcTemplate jdbcTemplate;
private UserGivenHelper given;

@BeforeEach
void setUp() {
    given = new UserGivenHelper(jdbcTemplate);
}

@Test
void dupId() {
    given.givenUser("lee", "pw", "lee@email.com");

    assertThrows(DupIdException.class, () -> register.register("lee", "pw", "lee@email.com"));
}
```

6. **ì‹¤í–‰ í™˜ê²½ì´ ë‹¤ë¥´ë‹¤ê³  ì‹¤íŒ¨í•˜ì§€ ì•Šê¸°**
  - ê°™ì€ í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œê°€ ì‹¤í–‰ í™˜ê²½ì— ë”°ë¼ ì„±ê³µí•˜ê±°ë‚˜ ì‹¤íŒ¨í•˜ë©´ ì•ˆ ëœë‹¤. (ex: íŒŒì¼ ê²½ë¡œ)
    - íŒŒì¼ ê²½ë¡œì˜ ê²½ìš°, í”„ë¡œì íŠ¸ í´ë”ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ìƒëŒ€ ê²½ë¡œë¡œ ì„¤ì •í•  ê²ƒ.

7. **ì‹¤í–‰ ì‹œì ì´ ë‹¤ë¥´ë‹¤ê³  ì‹¤íŒ¨í•˜ì§€ ì•Šê¸°**
  - í…ŒìŠ¤íŠ¸ ì½”ë“œì—ì„œ ì‹œê°„ì„ ëª…ì‹œì ìœ¼ë¡œ ì œì–´í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.

      ```
    // ì•ˆ ì¢‹ì€ ì˜ˆ
    public class Member {
        private LocalDateTime expiryDate;

        public boolean isExpired() {
            return expiryDate.isBefore(LocalDateTime.now());
        }
    }

    @Test
    void notExpired() {
        LocalDateTime expiry = LocalDateTime.of(2019, 12, 31, 0, 0, 0);
        Member member = Member.builder().expiryDate(expiry).build();
        assertFalse(member.isExpired());
    }
    ```

   
``` //ì¢‹ì€ ì˜ˆ 1: ì‹œê°„ì„ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬ ë°›ì•„ ë¹„êµí•˜ê¸°
public class BizClock {
    private static BizClock DEFAULT = new BizClock();
    private static BizClock instance = DEFAULT;

    public static void reset() {
        instance = DEFAULT;
    }

    public static LocalDateTime now() {
        return instance.timeNow();
    }

    protected void setInstance(BizClock bizClock) {
        BizClock.instance = bizClock;
    }

    public LocalDateTime timeNow() {
        return LocalDateTime.now();
    }
}

class TestBizClock extends BizClock {
    private LocalDateTime now;

    public TestBizClock() {
        setInstance(this);
    }

    public void setNow(LocalDateTime now) {
        this.now = now;
    }

    @Override
    public LocalDateTime timeNow() {
        return now != null ? now : super.now();
    }
}
```
   

8. **í•„ìš”í•˜ì§€ ì•Šì€ ê°’ì€ ì„¤ì •í•˜ì§€ ì•Šê¸°**
  - ì¤‘ë³µ ì•„ì´ë””ë¥¼ ê°€ì§„ íšŒì›ì€ ê°€ì…í•  ìˆ˜ ì—†ë‹¤ëŠ” ê²ƒì„ ê²€ì¦í•˜ê¸° ìœ„í•´ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì§¤ ë•Œ, idê°€ ì•„ë‹Œ email, password ë“± í•„ìš”í•˜ì§€ ì•Šì€ ê°’ì€ ì„¤ì •í•  í•„ìš” ì—†ë‹¤.

9. **ì¡°ê±´ë¶€ë¡œ ê²€ì¦í•˜ì§€ ì•Šê¸°**
  - ì¡°ê±´ì— ë”°ë¼ì„œ ë‹¨ì–¸ì„ í•˜ë„ë¡ í•˜ì§€ ë§ ê²ƒ (í…ŒìŠ¤íŠ¸ëŠ” ì„±ê³µí•˜ê±°ë‚˜ ì‹¤íŒ¨í•´ì•¼ í•œë‹¤! ì•„ë¬´ ì¼ë„ ì¼ì–´ë‚˜ì§€ ì•Šìœ¼ë©´ ì•ˆë¼â€¦)

10. **í†µí•© í…ŒìŠ¤íŠ¸ëŠ” í•„ìš”í•˜ì§€ ì•Šì€ ë²”ìœ„ê¹Œì§€ ì—°ë™í•˜ì§€ ì•Šê¸° (`@JdbcTest`)**
  - `@SpringBootTest` ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ë©´ ì„œë¹„ìŠ¤, ì»¨íŠ¸ë¡¤ëŸ¬ ë“± ëª¨ë“  ìŠ¤í”„ë§ ë¹ˆì„ ì´ˆê¸°í™” í•¨.
  - `@JdbcTest` ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ë©´ DataSource, JdbcTemplate ë“± DB ì—°ë™ê³¼ ê´€ë ¨ëœ ì„¤ì •ë§Œ ì´ˆê¸°í™”í•˜ê³  ë‹¤ë¥¸ ë¹ˆì€ ìƒì„±í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ìŠ¤í”„ë§ ì´ˆê¸°í™” ì‹œê°„ì„ ì¤„ì¼ ìˆ˜ ìˆë‹¤.
    ```java
    @JdbcTest
    @AutoConfigureTestDatabase(replace= AutoConfigureTestDatabase.Replalce.NONE)
    public class MemberDaoJdbcTest{
    @Autowired
    jdbcTemplate jdbcTemplate;
    
        private MemberDao doa;
        
        @BeforeEach
        void setUp(){
            dao = new MemberDao(jdbcTemplate);
        }
        
        @Test
        void findAll(){
        }
    
    }
    ```

11. **ë” ì´ìƒ ì“¸ëª¨ ì—†ëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ì‚­ì œí•˜ê¸°**
  - ë‹¨ì²´ í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ë¥¼ ë†’ì´ê¸° ìœ„í•œ ëª©ì ìœ¼ë¡œ ì‘ì„±í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ìœ ì§€í•  í•„ìš” ì—†ë‹¤.
---

# ch11 ë§ˆì¹˜ë©°

### TDDì˜ í•„ìš”ì„±

- ì¼ì • ì••ë°•ìœ¼ë¡œ ì¸í•´ ë³¸ì¸ì´ ë§Œë“  í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì¶©ë¶„íˆ í…ŒìŠ¤íŠ¸í•˜ì§€ ì•Šê³  ë‹¤ìŒ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê²Œ ë˜ë©´, ë²„ê·¸ë¥¼ í¬í•¨í•  ê°€ëŠ¥ì„±ì´ ì»¤ì§„ë‹¤.
- í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ê²ƒì´ ê°œë°œ ì‹œê°„ì„ ëŠ˜ë¦¬ëŠ” ê²ƒì²˜ëŸ¼ ë³´ì´ì§€ë§Œ, ì˜¤íˆë ¤ ë’¤ë¡œ ê°ˆìˆ˜ë¡ ë°˜ë³µë˜ëŠ” í…ŒìŠ¤íŠ¸ ì‹œê°„ì„ ì¤„ì—¬ ì „ì²´ ê°œë°œ ì‹œê°„(ì½”ë”© ì‹œê°„, í…ŒìŠ¤íŠ¸ ì‹œê°„, ë””ë²„ê¹… ì‹œê°„)ì´ ì¤„ì–´ë“ ë‹¤.

### TDDë¥¼ ì ìš©í•  ë•Œì˜ ì¥ì 

- í…ŒìŠ¤íŠ¸ë¥¼ ë¨¼ì € ì‘ì„±í•´ì•¼ í•œë‹¤ë©´, ì ì–´ë„ í•´ë‹¹ í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í•œ ë§Œí¼ì€ ì½”ë“œë¥¼ ì˜¬ë°”ë¥´ê²Œ êµ¬í˜„í–ˆë‹¤ëŠ” ì‚¬ì‹¤ì„ ì•Œ ìˆ˜ ìˆë‹¤.
- íšŒê·€ í…ŒìŠ¤íŠ¸ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
- ë²„ê·¸ê°€ ë°œìƒí•  ê°€ëŠ¥ì„±ì´ ì¤„ì–´ë“ ë‹¤.
- ë²„ê·¸ ìˆ˜ì •ì´ ë” ì‰¬ì›Œì§„ë‹¤.

> **ë ˆê±°ì‹œ ì½”ë“œ**ì²˜ëŸ¼ TDDë¥¼ í•˜ê¸° í˜ë“  ì½”ë“œëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œë¼ë„ ë§Œë“¤ì–´ë´ë¼!
- í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ë§Œë“¤ê¸° í˜ë“¤ë‹¤ë©´, ì•½ê°„ì˜ ìœ„í—˜ì„ ê°ìˆ˜í•˜ë”ë¼ë„ ì¼ë¶€ ì½”ë“œë¥¼ ë¦¬íŒ©í† ë§í•˜ì—¬ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ë§Œë“¤ ìˆ˜ ìˆëŠ” êµ¬ì¡°ë¡œ ë³€ê²½í•´ì•¼ í•œë‹¤.

---
# ë¶€ë¡ C Mockito  ê¸°ì´ˆ ì‚¬ìš©ë²•

### ì˜ì¡´ ì„¤ì •

```java
dependencis{
	testImplementation('org-mockito:mockito-core:2.26.0')
}
```

### ëª¨ì˜ ê°ì²´ ìƒì„±

Mockito.mock() ë©”ì„œë“œë¥¼ ì´ìš©í•˜ë©´ íŠ¹ì • íƒ€ì…ì˜ ëª¨ì˜ ê°ì²´ë¥¼ ìƒì„±í•  ìˆ˜ ìˆë‹¤

```java
import static org.mockito.Mockito.mock;

public class GameGenMockTest{
	@Test
	void mockTest(){
		GameNumGen genMock = mock(GameNumGen.class);
	}
}
```

### ìŠ¤í… ì„¤ì •

```java
import static org.juint.jupiter.api.Assertions.assertEquals;
import static org.mockito.BDDMockito.given;
import static org.mockito.Mockito.mock;

public class GameGenMockTest{
	@Test
	void mockTest(){
		GameNumGen genMock = mock(GameNumGen.class);
		**given(genMock.generate(GameLevel.EASY)).willReturn("123");**
		**given(fenMock.generate(null)).weillThrow(ILLefalArgumentException.class);**
		
		String num = genMock.generate(GameLEvel.EASY);
		assertEquals("123", num);
	}
}
```

### ì¸ì ë§¤ì¹­ ì²˜ë¦¬

org.mockito.ArgumentMatchers í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ì„ì˜ì˜ ê°’ì— ì¼í”¼í•˜ë„ë¡ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.

- ArgumentMatchers í´ë˜ìŠ¤

    | anyInt(), anyShort(), anyLong(), anuByte(), anyChar(), anuDouble(), anyFloat, anyBoolen()  | ê¸°ë³¸ ë°ì´í„° íƒ€ì…ì— ëŒ€í•œ ì„ì˜ ê°’ ì¼ì¹˜ |
    | --- | --- |
    | anyString() | ë¬¸ìì—´ì— ëŒ€í•œ ì„ì˜ ê°’ ì¼ì¹˜ |
    | any() | ì„ì˜ íƒ€ì…ì— ëŒ€í•œ ì¼ì¹˜ |
    | anyList() , anySet() , anyMap(), anyColletion() | ì„ì˜ ì½œë ‰ì…˜ì— ëŒ€í•œ ì¼ì¹˜ |
    | matches(String) , matches(Pattern) | ì •ê·œí‘œí˜„ì‹ì„ ì´ìš©í•œ String ê°’ ì¼ì¹˜ ì—¬ë¶€ |
    | eq(ê°’) |  íŠ¹ì • ê°’ê³¼ ì¼ì¹˜ |

MockitoëŠ” í•œ ì¸ìë¼ë„ ArgumentMatcherë¥¼ ì‚¬ìš©í•´ì„œ ì„¤ì •í•œ ê²½ìš° ëª¨ë“  ì¸ìë¥¼ArgumentMatcherë¥¼ ì´ìš©í•´ ì„¤ì •í•˜ë„ë¡ í•œë‹¤. ì„ì˜ì˜ ê°’ê³¼ ì¼ì¹˜í•˜ëŠ” ì¸ìë¥¼ í•¨ê»˜ ì‚¬ìš©í•˜ê³  ì‹¶ë‹¤ë©´ ArgumentMatcher.eq()ë©”ì„œë“œ ì‚¬ìš©

```java
import static org.junit.jupiter.api.Assertiona.assertEquals;
import static org.mockito.ArgumentMatcher.any;
import static org.mockito.BDDMockito.given;
import static org.mockito.Mockito.mock;

public class AnyMatchTest{
	@Test
	void anyMatchTest(){
		GameNumGen genMock= mock(GameNymGen.class);
		**given(genMock.generate(any()))).willReturn("456");**
		
		String num = genMock.genrate(GameLevel.EASY);
		assertEquals("456", num);
		
		String num2 = genMock.generate(GameLEvel.NORMAL);
		assertEquals("456", num2);
	}
}
```

### ë©”ì„œë“œ í˜¸ì¶œ ê²€ì¦

- í˜¸ì¶œ íšŸìˆ˜ ê²€ì¦ ë©”ì„œë“œ

    | only() | í•œ ë²ˆë§Œ í˜¸ì¶œ |
    | --- | --- |
    | times(int) | ì§€ì •í•œ íšŸìˆ˜ë§Œí¼ í˜¸ì¶œ |
    | never() | í˜¸ì¶œí•˜ì§€ ì•ŠìŒ |
    | atLeast(int) | ì ì–´ë„ ì§€ì •í•œ íšŸìˆ˜ë§Œí¼ í˜¸ì¶œ |
    | atLeastOnce() | atLeast(1)ê³¼ ë™ì¼ |
    | atMost(int) | ìµœëŒ€ ì§€ì •í•œ íšŸìˆ˜ë§Œí¼ í˜¸ì¶œ  |

```java
import static org.mockito.BDDMockito.then;
import static org.mockito.Mockito.mock;

public class GameTest{
	@Test
	void init(){
		GameNumGen genMock = mock(GameNumGen.class);
		Game game = new Game(genMock);
		game.init(GameLEvel.EASY)l
		
		**then(genMock).should(only()).genrate(GameLevel.EASY);**

	}
}
```


